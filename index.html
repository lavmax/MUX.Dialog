<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=utf-8">
	<title>MUX.Dialog Demo</title>

	<script type="text/javascript" src="http://lavmax.github.com/mootools-core.js"></script>
	
	<script type="text/javascript" src="MUX.Extensions.js"></script>
	<script type="text/javascript" src="MUX.Loaders.js"></script>
	<script type="text/javascript" src="MUX.Dialog.js"></script>
	<link rel="stylesheet" href="MUX.Dialog.css">

	<link href="prettify/prettify.css" type="text/css" rel="stylesheet" />
	<script src="prettify/prettify.js" type="text/javascript"></script>

	<link rel="stylesheet" href="main.css">
    
	<style type="text/css">
    	.mux-hidden {
    		display: none !important;
    	}
    	
    	body {
    		overflow-y: scroll;
    	}
    	
		.dialog-demo-block {
			margin-left: 1em;
			margin-bottom: 0.5em;
		}
		
		.show-dialog,
		.view-source {
			font-size: 90%;
			color: #777;
		}
		
		pre.source-code {
			font-size: 90%;
			font-family: 'Bitstream Vera Sans Mono', 'Courier', smonospace;
			padding: 1em;
			margin-top: 0.5em;
			background-color: #eee;
			border: 1px dashed #888;
		}

		.mux-dialog-box.opacity-moving.mux-dialog-moving {
			opacity: 0.6;
			filter: alpha(opacity = 60);
		}

		.mux-dialog-box.opacity-moving.mux-dialog-moving .mux-dialog-content,
		.mux-dialog-box.opacity-moving.mux-dialog-moving .mux-dialog-footer {
			visibility: hidden;
		}
	</style>
	<script type="text/javascript">
		// String method to protect html text
		String.implement({
			screen: function(addLineBreaks)
			{
				return this.replace(/</g, '&lt;').replace(/>/g, '&gt;').replace(/\n|\r/g, '<br>');
			}
		});
		
		window.addEvent('domready', function()
		{
			$$('.view-source').addEvent('click', function(event)
			{
				this.getParent().getNext().getElement('.source-code').muxSlide('toggle');
			});
			
			prettyPrint();
			
			$('basic-dialog-modal').addEvent('click', function(event)
			{
				new MUX.Dialog({
					loader: 'none',
					title: 'Basic Modal Dialog',
					content: new Element('div', {styles: {maxWidth: 400}}).adopt([
						new Element('p', {html: 'This is simple, non-resizable dialog. In most cases you don\'t need a dialog to be resized by user. Better practice is to make it suit to your content.'}),
						new Element('br'),
						new Element('p', {html: 'Try to drag and move the dialog.'}),
						new Element('br'),
						new Element('p', {html: 'You can also close it by pressing Esc.'}),
						new Element('input', {type: 'text'}),
						new Element('textarea')
					]),
					buttons: [{
						title: 'Cancel',
						style: 'link',
						click: 'close'
					},{
						title: 'Do The Job',
						click: 'submit'
					}],
					onSubmit: function()
					{
						alert('The Job Is Done!');
						this.close();
					}
				});
			});

			$('basic-dialogs-non-modal').addEvent('click', function(event)
			{
				new MUX.Dialog({
					modal: false,
					resizable: true,
					size: {x: 400},
					loader: 'none',
					title: 'Basic Non-modal Resizable Dialog',
					content: new Element('div').adopt([
						new Element('p', {html: 'This is simple, non-modal dialog. Try to open few dialogs and click between them.'}),
						new Element('br'),
						new Element('p', {html: 'You can also resize this dialog.'})
					]),
					buttons: [{
						title: 'Cancel',
						style: 'link',
						click: 'close'
					},{
						title: 'Do The Job',
						click: 'submit'
					}],
					onSubmit: function()
					{
						alert('The Job Is Done!');
						this.close();
					}
				})
			});

			$('basic-dialog-lightweight').addEvent('click', function(event)
			{
				new MUX.Dialog({
					loader: 'none',
					showHeader: 'invisible',
					content: new Element('div', {styles: {maxWidth: 400}}).adopt([
						new Element('p', {html: 'This is simple, non-resizable dialog. In most cases you don\'t need a dialog to be resized by user. Better practice is to make it suit to your content.'}),
						new Element('br'),
						new Element('p', {html: 'You still can drag and move the dialog.'}),
						new Element('br'),
						new Element('p', {html: 'And of course you can close it by pressing Esc.'})
					])
				});
			});

			$('basic-dialog-styled-cursor').addEvent('click', function(event)
			{
				new MUX.Dialog({
					loader: 'none',
					resizable: true,
					title: 'Styled Cursors',
					content: new Element('div').adopt([
						new Element('p', {html: 'Try to move mouse over the header and the resize icon.'})
					]),
					buttons: [{
						title: 'Cancel',
						style: 'link',
						click: 'close'
					},{
						title: 'Do The Job',
						click: 'submit'
					}],
					onOpen: function(event)
					{
						this.box.getElement('.mux-dialog-header').setStyle('cursor', 'move');
						this.box.getElement('.mux-dialog-resize-icon').setStyle('cursor', 'se-resize');
					},
					onSubmit: function()
					{
						alert('The Job Is Done!');
						this.close();
					}
				});
			});

			$('basic-dialog-styled-move').addEvent('click', function(event)
			{
				new MUX.Dialog({
					loader: 'none',
					title: 'Transparent While Moving',
					content: new Element('div').adopt([
						new Element('p', {html: 'Try to move this dialog.'})
					]),
					buttons: [{
						title: 'Cancel',
						style: 'link',
						click: 'close'
					},{
						title: 'Do The Job',
						click: 'submit'
					}],
					onOpen: function(event)
					{
						this.box.addClass('opacity-moving');
					},
					onSubmit: function()
					{
						alert('The Job Is Done!');
						this.close();
					}
				});
			});

			$('basic-dialog-load-from-server').addEvent('click', function(event)
			{
				new MUX.Dialog({
					loader: 'none',
					title: 'Load Content With AJAX',
					content: 'external-content.html',
					buttons: [{
						title: 'Cancel',
						style: 'link',
						click: 'close'
					},{
						title: 'Do The Job',
						click: 'submit'
					}],
					onSubmit: function()
					{
						alert('The Job Is Done!');
						this.close();
					}
				});
			});

			$('basic-dialog-loaders').addEvent('click', function(event)
			{
				new MUX.Dialog({
					title: 'Smooth Closing',
					content: new Element('div').adopt([
						new Element('p', {html: 'Click "Do The Job" button.'})
					]),
					buttons: [{
						title: 'Cancel',
						style: 'link',
						click: 'close'
					},{
						title: 'Do The Job',
						click: 'submit'
					}],
					onSubmit: function()
					{
						new Request({
							method: 'get',
							url: 'external-content.html',
							onComplete: this.loader.stop.bind(this.loader)
						}).send();
						//this.close(2000);
					}
				});
			});
		})
	</script>
</head>
<body>
	<div id="general-wrapper">
		<div id="header">
			<a class="page-title header-font" href="https://github.com/lavmax/MUX.Dialog">MUX.Dialog Demo</a>
			<a class="my-profile-name header-font" href="https://github.com/lavmax">by Max Lavrov</a>
			<a class="my-profile-picture" href="https://github.com/lavmax"><img src="http://www.gravatar.com/avatar/12c13af372d220e02b929d8343c9c87d" width="80" height="80" /></a>
		</div>
		<div id="body">
			<div id="easy-dialogs">
				<h1>Easy To Create</h1>
				<div class="dialog-demo-block">
					<p><span>Basic modal dialog</span>&nbsp;&nbsp;&nbsp;<span id="basic-dialog-modal" class="show-dialog link">Open Dialog</span>&nbsp;&nbsp;&nbsp;<span class="view-source link">View Code</span></p>
					<div class="mux-slider-wrapper" style="overflow: hidden; height: 0px;">
<pre class="prettyprint lang-js source-code">
new MUX.Dialog({
	loader: 'none',
	title: 'Basic Modal Dialog',
	content: new Element('p', {html: 'Some text.'}),
	buttons: [{
		title: 'Cancel',
		style: 'link',
		click: 'close'
	},{
		title: 'Do The Job',
		click: 'submit'
	}],
	onSubmit: function()
	{
		alert('The Job Is Done!');
		this.close();
	}
});
</pre>
					</div>
				</div>
				<div class="dialog-demo-block">
					<p><span>Basic non-modal dialogs, each click opens new one</span>&nbsp;&nbsp;&nbsp;<span id="basic-dialogs-non-modal" class="show-dialog link">Open Dialog</span>&nbsp;&nbsp;&nbsp;<span class="view-source link">View Code</span></p>
					<div class="mux-slider-wrapper" style="overflow: hidden; height: 0px;">
<pre class="prettyprint lang-js source-code">
new MUX.Dialog({
	modal: false,
	resizable: true,
	size: {x: 400},
	loader: 'none',
	title: 'Basic Non-modal Resizable Dialog',
	content: new Element('p', {html: 'Some text.'}),
	buttons: [{
		title: 'Cancel',
		style: 'link',
		click: 'close'
	},{
		title: 'Do The Job',
		click: 'submit'
	}],
	onSubmit: function()
	{
		alert('The Job Is Done!');
		this.close();
	}
});
</pre>
					</div>
				</div>
				<div class="dialog-demo-block">
					<p><span>Lightweight informational dialog</span>&nbsp;&nbsp;&nbsp;<span id="basic-dialog-lightweight" class="show-dialog link">Open Dialog</span>&nbsp;&nbsp;&nbsp;<span class="view-source link">View Code</span></p>
					<div class="mux-slider-wrapper" style="overflow: hidden; height: 0px;">
<pre class="prettyprint lang-js source-code">
new MUX.Dialog({
	loader: 'none',
	showHeader: 'invisible',
	content: new Element('p', {html: 'Some text.'})
});
</pre>
					</div>
				</div>
			</div>
			<div id="customize-dialogs">
				<h1>Easy To Customize</h1>
				<div class="dialog-demo-block">
					<p><span>If you love complicated cursors</span>&nbsp;&nbsp;&nbsp;<span id="basic-dialog-styled-cursor" class="show-dialog link">Open Dialog</span>&nbsp;&nbsp;&nbsp;<span class="view-source link">View CSS And Code</span></p>
					<div class="mux-slider-wrapper" style="overflow: hidden; height: 0px;">
						<div class="source-code">
<pre class="prettyprint lang-css source-code">
/* Add these styles to your css file to overwrite original styles for all dialogs */
.mux-dialog-header {
	cursor: move;
}

.mux-dialog-resize-icon {
	cursor: se-resize;
}
</pre>
<pre class="prettyprint lang-js source-code">
new MUX.Dialog({
	loader: 'none',
	resizable: true,
	title: 'Styled Cursors',
	content: new Element('p', {html: 'Some text.'}),
	buttons: [{
		title: 'Cancel',
		style: 'link',
		click: 'close'
	},{
		title: 'Do The Job',
		click: 'submit'
	}],
	onOpen: function(event)
	{
		// You can also set styles for a single dialog on open.
		if (this.firstOpen)
		{
			this.box.getElement('.mux-dialog-header').setStyle('cursor', 'move');
			this.box.getElement('.mux-dialog-resize-icon').setStyle('cursor', 'se-resize');
		}
	},
	onSubmit: function()
	{
		alert('The Job Is Done!');
		this.close();
	}
});
</pre>
						</div>
					</div>
				</div>
				<div class="dialog-demo-block">
					<p><span>Or maybe you prefer different style for moving dialog</span>&nbsp;&nbsp;&nbsp;<span id="basic-dialog-styled-move" class="show-dialog link">Open Dialog</span>&nbsp;&nbsp;&nbsp;<span class="view-source link">View CSS And Code</span></p>
					<div class="mux-slider-wrapper" style="overflow: hidden; height: 0px;">
						<div class="source-code">
<pre class="prettyprint lang-css source-code">
/* Add these styles to your css file to overwrite original styles for all dialogs */
.mux-dialog-box.mux-dialog-moving {
	opacity: 0.6;
	filter: alpha(opacity = 60);
}

.mux-dialog-box.mux-dialog-moving .mux-dialog-content,
.mux-dialog-box.mux-dialog-moving .mux-dialog-footer {
	visibility: hidden;
}
</pre>
<pre class="prettyprint lang-js source-code">
new MUX.Dialog({
	loader: 'none',
	title: 'Transparent While Moving',
	content: new Element('p', {html: 'Some text.'}),
	buttons: [{
		title: 'Cancel',
		style: 'link',
		click: 'close'
	},{
		title: 'Do The Job',
		click: 'submit'
	}],
	onSubmit: function()
	{
		alert('The Job Is Done!');
		this.close();
	}
});
</pre>
						</div>
					</div>
				</div>
			</div>
			<div id="ajax-dialogs">
				<h1>AJAX Friendly</h1>
				<div class="dialog-demo-block">
					<p><span>Load some content from a server</span>&nbsp;&nbsp;&nbsp;<span id="basic-dialog-load-from-server" class="show-dialog link">Open Dialog</span>&nbsp;&nbsp;&nbsp;<span class="view-source link">View Code</span></p>
					<div class="mux-slider-wrapper" style="overflow: hidden; height: 0px;">
<pre class="prettyprint lang-js source-code">
new MUX.Dialog({
	loader: 'none',
	title: 'Load Content With AJAX',
	content: 'external-content.html',
	buttons: [{
		title: 'Cancel',
		style: 'link',
		click: 'close'
	},{
		title: 'Do The Job',
		click: 'submit'
	}],
	onSubmit: function()
	{
		alert('The Job Is Done!');
		this.close();
	}
});
</pre>
					</div>
				</div>
				<div class="dialog-demo-block">
					<p><span>Integrated with MUX.Loaders for nice submit visualization</span>&nbsp;&nbsp;&nbsp;<span id="basic-dialog-loaders" class="show-dialog link">Open Dialog</span>&nbsp;&nbsp;&nbsp;<span class="view-source link">View Code</span></p>
					<div class="mux-slider-wrapper" style="overflow: hidden; height: 0px;">
<pre class="prettyprint lang-js source-code">
new MUX.Dialog({
	loader: 'auto',
	title: 'Smooth Closing',
	content: new Element('p', {html: 'Some text.'}),
	buttons: [{
		title: 'Cancel',
		style: 'link',
		click: 'close'
	},{
		title: 'Do The Job',
		click: 'submit'
	}],
	onSubmit: function()
	{
		this.close(2000);
	}
});
</pre>
					</div>
				</div>
			</div>
		</div>
		<div id="footer">
			<div id="footer-left-panel">
				<span class="footer-text">Copyright &copy; 2011 by Max Lavrov (<a href="mailto:lavmax@gmail.com">lavmax@gmail.com</a>)</span>
			</div>
	
			<div id="footer-right-panel">
		 		<a href="http://en.wikipedia.org/wiki/MIT_License#License_terms" target="_blank" class="footer-text">Licence MIT</a>
			</div>
		</div>
	</div>
</body>
</html>
